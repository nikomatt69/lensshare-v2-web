var a=["/walletconnect.svg","/favicon-16x16.png","/icon.png","/favicon.ico","/apple-touch-icon.png","/images/favicon-16x16.png","/images/icon.png","/images/Lenssharelogo.png","/images/brands/x-dark.svg","/images/brands/x-light.svg","/images/source/lenster.jpg","/images/Lenstoklogo.png","/images/default-avatar.svg","/images/social/ens.svg","/images/social/worldcoin.png","/images/social/sybil.png","/images/social/x.svg","/images/social/poh.png","/images/social/reddit-logo.png","/images/social/lenster.png","/images/social/ENS-Ethereum-Name-Service.svg","/images/social/twitter.png","/images/social/linkedin.png","/images/social/twitter.svg","/images/splash.png","/images/camera-video.svg","/images/Lenstoknewlogo.png","/images/faviconok.png","/images/Lenstoknewlogo3.png","/images/tokens/usdc.svg","/images/tokens/dai.svg","/images/tokens/wmatic.svg","/images/tokens/bct.svg","/images/tokens/nct.svg","/images/tokens/weth.svg","/.well-known/security.txt","/lens.svg","/icon copy.png","/logo.png","/coinbase.svg","/icon-512x512.png","/t.png","/5.png","/robots.txt","/fonts/SofiaProSoftBold-webfont.woff2","/fonts/SofiaProSoftMed-webfont.woff2","/fonts/Helvetica.ttf","/fonts/helvetica-rounded-bold-5871d05ead8de.ttf","/fonts/Helvetica-Bold.ttf","/fonts/SofiaProSoftReg-webfont.woff2","/dynamic.svg","/assets/type-code.svg","/assets/type-italic.svg","/assets/type-bold.svg","/2.png","/pride.png","/favicon-32x32.png","/icon-128x128.png"];var A=(e=>(e.Mainnet="https://api-v2.lens.dev",e.Testnet="https://api-v2-mumbai.lens.dev",e))(A||{}),c=A;var I=()=>{switch(S){case"testnet":return{apiEndpoint:c.Testnet,lensHubProxyAddress:"0x4fbffF20302F3326B20052ab9C217C44F6480900",defaultCollectToken:"0x9c3C9283D3e44854697Cd22D3Faa240Cfb032889",litProtocolEnvironment:"mumbai"};default:return{apiEndpoint:c.Mainnet,lensHubProxyAddress:"0xDb46d1Dc155634FbC732f92E853b10B288AD5a1d",defaultCollectToken:"0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270",litProtocolEnvironment:"polygon"}}},p=I;var d=process.env.NEXT_PUBLIC_LENS_NETWORK==="mainnet",q=process.env.NEXT_PUBLIC_IS_PRODUCTION==="true";var Q=process.env.NEXT_PUBLIC_LENSTOK_URL;var S=process.env.NEXT_PUBLIC_LENS_NETWORK??"mainnet";var j=process.env.NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA?.slice(0,7),J=p().apiEndpoint;var Z=p().lensHubProxyAddress,tt=p().defaultCollectToken,et=p().litProtocolEnvironment;var T="https://lenshareapp.xyz";var L=process.env.NEXT_PUBLIC_INFURA_ID,st=d?`https://polygon-mainnet.infura.io/v3/${L}`:`https://polygon-mumbai.infura.io/v3/${L}`;var O=["image/jpeg","image/png","image/webp","image/gif","image/jpg"],f=["audio/mpeg","audio/wav","audio/mp4","audio/aac","audio/ogg","audio/webm","audio/flac"],D=["video/mp4","video/mpeg","video/ogg","video/webm","video/quicktime"],ot=[...D,...O,...f];var nt=process.env.EVER_ACCESS_KEY,at=process.env.EVER_ACCESS_SECRET;var E="https://asset.lenshareapp.xyz",pt=`${E}/images/logo.png`;var rt=process.env.NEXT_PUBLIC_LIVE_STUDIO_API_KEY;var ct=`${E}/images/icon.png`;var Et=`${E}/images/placeholder.webp`;var U="ac777a2",r=class{constructor({cachePrefix:t,staticAssets:e,cacheableRoutes:o,withQueryParams:n}){this.cacheStaticAsset=(t,e)=>{fetch(t).then(o=>{if([200,304].includes(o.status))e.put(t,o).catch(n=>{console.debug(`Failed to cache file - ${t}`,n),console.debug(`Failed to cache file - ${t}`,n)});else throw new Error("Failed to fetch from local")}).catch(console.debug)};this.cacheStaticAssets=async()=>{let t=await caches.open(this.cacheName);for(let e of this.staticAssets)this.cacheStaticAsset(e,t)};this.invalidatePreviousCache=async()=>{let t=await caches.keys();await Promise.all(t.filter(e=>e.startsWith(this.cachePrefix)).map(async e=>e!==this.cacheName?await caches.delete(e):await Promise.resolve(!1)))};this.put=async(t,e)=>{let o=await fetch(t,{cache:"reload"});!o.redirected&&[200,304].includes(o.status)?await e.put(t,o):await e.delete(t)};this.get=async t=>{let{request:e}=t,{pathname:o,search:n}=new URL(e.url),x=`${o}${this.withQueryParams?n:""}`;if((this.staticAssets.has(o)||this.cacheableRoutes.has(o))&&this.cacheName){let R=await caches.open(this.cacheName),l=await R.match(x);if(navigator.onLine&&t.waitUntil(this.put(x,R)),l)return l}return await fetch(e)};this.cachePrefix=t,this.cacheName=`${t}_${U}`,this.staticAssets=new Set(e),this.cacheableRoutes=new Set(o),this.withQueryParams=n??!0}};importScripts("https://progressier.app/n3shfjBJt3OOEInGTpqa/sw.js");var u=`${T}/api/leafwatch/impressions`,C=5e3,i=null,_=new Set,b=()=>{let s=Array.from(_);s.length>0&&i&&(_.clear(),fetch(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({viewer_id:i,ids:s}),keepalive:!0}).then(()=>{}).catch(()=>{}))},y=a??[],m=["/","/contact","/explore"],N=["https://static-asset.lenshareapp.xyz","https://asset.lenshareapp.xyz","https://prerender.lenshareapp.xyz"],h=new r({cachePrefix:"SWCache",cacheableRoutes:[...m,...N],staticAssets:y});async function g(){self.skipWaiting(),await h.cacheStaticAssets()}var w=async()=>{await self.clients.claim(),await h.invalidatePreviousCache()},v=s=>{let t=s.request.clone(),{origin:e}=new URL(t.url);(self.location.origin===e||N.includes(e))&&s.respondWith(h.get(s))};self.addEventListener("push",function(s){s.waitUntil(self.registration.showNotification("LensShare",{lang:"en",body:"New Notification",icon:"./images/icon.png",vibrate:[500,100,500]}))});self.addEventListener("push",s=>{if(s.data){let t=s.data.json();self.registration.showNotification(t.title,{body:t.body,icon:t.icon})}});self.addEventListener("message",s=>{s.data&&s.data.type==="PUBLICATION_VISIBLE"&&(_.add(s.data.id),i=s.data.viewerId)});setInterval(b,C);self.addEventListener("fetch",v);self.addEventListener("install",s=>s.waitUntil(g()));self.addEventListener("activate",s=>s.waitUntil(w()));
